<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>coffeeshop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <style>
        header {
            background-color: #6DD66D;
            height: 100px;
        }

        section {
            background-color: #FFFA82;
            height: 650px;
        }

        footer {
            background-color: #A814E7;
            height: 100px;
        }

        .main {
            display: grid;
            gap: 5px;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 150px 490px;
            background-color: #FFFA82;
        }

        td {
            height: 45px;
        }
    </style>
</head>

<body>
    <header>
        <span style="font-size: 30px; margin-left: 20px;">coffee</span>

    </header>
    <section>
        <div class="main">
            <div class="a" style="margin-right: 50px;margin-left: 40px;">
                <br>
            </div>
            <div class="b" style="margin-left: 30px; margin-right: 20px;">
                주문목록:
                <table class="table table-dark" style="border: 1px;" id="tbl2">
                    <thead>
                        <tr>
                            <th scope="col">메뉴</th>
                            <th scope="col">수량</th>
                            <th scope="col" colspan="2" style="text-align: center;">금액</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td scope="col" colspan="2" style="text-align: center;"></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td scope="col" colspan="2" style="text-align: center;"></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td scope="col" colspan="2" style="text-align: center;"></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td scope="col" colspan="2" style="text-align: center;"></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td scope="col" colspan="2" style="text-align: center;"></td>
                        </tr>
                    </tbody>

                </table>

                <br>
            </div>


            <div class="c">
                <br><br>
                <div class="col-md-8">
                    <label for="inputEmail42" class="form-label">모바일 번호:</label>
                    <input type="text" class="form-control" id="inputEmail42" placeholder="000-0000-0000">
                    (-을 뺴고 입력해주세요.)
                    <br>
                </div>
                <div style="padding-left: 99px;">
                    <button type="button" class="btn btn-success" id="good">확인</button>

                    <button type="button" class="btn btn-warning" style="background-color: #FF5050;"
                        id="cancle">취소</button>
                </div>
            </div>

            <div class="d" style="margin-right: 10px;margin-left: 20px;">
                <br>
                메뉴목록:
                <table class="table table-dark" style="border: 1px;" id="tbl1">
                    <thead>
                        <tr>
                            <td scope="col" colspan="1" style="text-align: center;">메뉴</td>
                            <td scope="col" colspan="3" style="text-align: center;">가격</td>
                        </tr>

                    <tbody>
                        <tr>
                            <td colspan="1" style="text-align: center;" id='test'>아메리카노</td>
                            <td scope="col" colspan="2" style="text-align: center;">3000</td>
                        </tr>
                        <tr>
                            <td colspan="1" style="text-align: center;">버블버블</td>
                            <td scope="col" colspan="2" style="text-align: center;">4000</td>
                        </tr>
                        <tr>
                            <td colspan="1" style="text-align: center;">마끼야또</td>
                            <td scope="col" colspan="2" style="text-align: center;">4500</td>
                        </tr>
                        <tr>
                            <td colspan="1" style="text-align: center;">카푸치노</td>
                            <td scope="col" colspan="2" style="text-align: center;">4000</td>
                        </tr>
                        <tr>
                            <td colspan="1" style="text-align: center;">콜라</td>
                            <td scope="col" colspan="2" style="text-align: center;">7000</td>
                        </tr>
                    </tbody>

                </table>
            </div>

            <div class="e" style="margin-left: 30px; margin-right: 20px;">
                <br><br><br><br><br><br><br>
                <div class="col-md-8 input-group">
                    <label for="inputEmail4" class="form-label">메뉴명:</label>
                    <input type="text" class="form-control" id="inputEmail4">
                </div>
                <br>
                <div class="col-sm-7 input-group">
                    <label for="inputPassword9" class="col-form-label">메뉴금액:</label>
                    <input type="text" id="inputPassword9" class="form-control" placeholder="9999잔"
                        style=" margin-left: 10px;margin-right: 60px; border-radius: 20px 20px 20px 20px;">
                </div>
                <br>
                <div class="col-sm-7 input-group">
                    <label for="inputPassword6" class="col-form-label">수량:</label>
                    <input type="text" id="inputPassword6" class="form-control" placeholder="9999잔"
                        style=" margin-left: 10px;margin-right: 60px; border-radius: 20px 20px 20px 20px;">
                </div>
                <br>
                <div class="col-sm-7 input-group">
                    <label for="inputPassword8" class="col-form-label">금액:</label>
                    <input type="text" id="inputPassword8" class="form-control" placeholder="2000천만원"
                        style=" margin-left: 10px;margin-right: 60px; border-radius: 20px 20px 20px 20px;">
                </div>
                <br>
                <div style="padding-left: 20px;">
                    <button type="button" class="btn btn-success" id="add">추가</button>
                    <button type="button" class="btn btn-primary btn-lg" style="color: indigo-400;"
                        id="delete">삭제</button>
                    <button type="button" class="btn btn-warning" style="background-color: #FF5050;"
                        id="order">주문</button>
                </div>
            </div>
            <div class="f" style=" margin-left: -12px;margin-right: 3px;">
                <br>
                <p style="font-size: 25px; color: red;">매출현황</p>

                <table class="table table-dark" style="border: 1px;" id="tbl3">
                    <thead>
                        <tr>
                            <td>번호</td>
                            <td>메뉴</td>
                            <td>수량</td>
                            <td>금액</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>

                        </tr>
                    </tbody>

                </table>
                <div class="col-sm-7 ">
                    <label for="inputPassword71" class="col-form-label">총 주문 금액:</label>
                    <input type="number" id="inputPassword71" class="form-control" placeholder="2000천만원"
                        style=" margin-left: 10px;margin-right: 60px; border-radius: 20px 20px 20px 20px;">
                </div>
            </div>
        </div>

    </section>
    <footer>
        <h1 style="text-align: center; color: #FF9100;">MOON</h1>
    </footer>
</body>

<script>
    let name;
    let price;
    let sum;
    var mobile;
    let mt = 0;
    let ee;
    let name2 = '';
    let sum2 = '';
    let ee2 = '';
    let su = 0;
    let sumprice=0;
    $(document)
        //클릭
        .on('click', '#tbl1 tr', function () {
            oo = $(this);
            oo.each(function () {
                name = $(this).find('td:eq(0)').text();
                price = $(this).find('td:eq(1)').text();
            })
            $('#inputEmail4').val(name);
            $('#inputPassword9').val(price);
            $('#inputPassword6').val('');
            return false;
        })
        //합계금액표시  
        .on('blur', '#inputPassword6', function () {
            sum = $(this).val();
            $('#inputPassword8').val(price * sum);
            return false;
        })
        //추가     
        .on('click', '#add', function () {
            aa = $(this);
            ee = $('#inputPassword8').val();
            ++mt;
            //$("#tbl2 tr:eq("+mt+")").find('td:eq(2)').text(ee);
            $("#tbl2 tr:eq(" + mt + ")").find('td:eq(0)').text(name);
            $("#tbl2 tr:eq(" + mt + ")").find('td:eq(1)').text(sum);
            $("#tbl2 tr:eq(" + mt + ")").find('td:eq(2)').text(ee);
            mmm=$("#tbl2 tr:eq(" + mt + ")").find('td:eq(2)').text();
            sumprice=sumprice+parseInt(mmm);
            return false;
        })
        //주문
        .on('click', '#order', function () {
            mobile = prompt('모바일 번호를 입력하세요.');
            $('#inputEmail42').val(mobile);
            return false;
        })
        //삭제버튼
        .on('click', '#cancle', function () {
            $('#inputEmail42').val('');
            $('#order').trigger('click');
            return false;
        })
        .on('click', '#tbl2 tr', function () {
            //테이블 클릭시 이름수량 금액 값 이동
            name2 = $(this).find('td:eq(0)').text();
            sum2 = $(this).find('td:eq(1)').text();
            ee2 = $(this).find('td:eq(2)').text();
            //console.log(name2,sum2,ee2);
            $("#inputEmail4").val(name2);
            $("#inputPassword6").val(sum2);
            $("#inputPassword8").val(ee2);
            //메뉴 금액 표시
            $('#tbl1 tr').each(function () {
                zz = $(this).find('td:eq(0)').text();
                xx = $('#inputEmail4').val();
                pp = $(this).find('td:eq(1)').text();
                if (zz == xx) {
                    $("#inputPassword9").val(pp);
                }
            })
            return false;
        })
        //주문삭제
        .on('click', '#delete', function () {
            tt = confirm('정말로 삭제 하시겠습니까?');
            if (tt == true) {
                $('#tbl2 tr').each(function () {
                    qqq = $("#inputEmail4").val();
                    www = $(this).find('td:eq(0)').text();
                    if (qqq == www) {
                        $(this).find('td:eq(0)').text('');
                        $(this).find('td:eq(1)').text('');
                        $(this).find('td:eq(2)').text('');
                    }
                })
            }
            return false;
        })
        //매출현황 처리
        .on('click', '#good', function () {
            //console.log(mt);
            for (i = 1; i <= mt; i++) {
                aaa = $("#tbl2 tr:eq(" + i + ")").find('td:eq(0)').text();
                bbb = $("#tbl2 tr:eq(" + i + ")").find('td:eq(1)').text();
                ccc = $("#tbl2 tr:eq(" + i + ")").find('td:eq(2)').text();
                ddd = $('#inputEmail42').val();
                $("#tbl3 tr:eq(" + i + ")").find('td:eq(0)').text(ddd);
                $("#tbl3 tr:eq(" + i + ")").find('td:eq(1)').text(aaa);
                $("#tbl3 tr:eq(" + i + ")").find('td:eq(2)').text(bbb);
                $("#tbl3 tr:eq(" + i + ")").find('td:eq(3)').text(ccc);
            }
            console.log(sumprice)
            $('#inputPassword71').val(sumprice);
        })
</script>

</html>